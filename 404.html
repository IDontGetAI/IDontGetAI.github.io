<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Redirecting...</title>
    <script>
        /**
         * GitHub Pages SPA 路由修复
         * 
         * 当用户刷新子路由时（如 /ai），GitHub Pages 会返回 404
         * 此脚本保存原始路径并重定向到 index.html
         * React 应用启动后会从 sessionStorage 恢复正确的路由
         */
        (function () {
            // 保存当前完整路径（包含查询参数和 hash）
            var currentPath = window.location.pathname + window.location.search + window.location.hash;
            
            // 如果不是根路径，保存到 sessionStorage
            if (currentPath !== '/' && currentPath !== '') {
                sessionStorage.setItem('spa_path', currentPath);
            }
            
            // 立即重定向到根路径，让 index.html 加载正确的生产环境脚本
            location.replace('/');
        })();
    </script>
</head>
<body>
    <!-- 重定向中... -->
</body>
</html>